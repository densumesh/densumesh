---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';

// Get blog posts and sort by date
const posts = await getCollection('blog');
const sortedPosts = posts.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());
const latestPosts = sortedPosts.slice(0, 3); // Show latest 3 posts
---

<Layout title="Dens Sumesh â€“ Founding Engineer & AI Engineer">
  <!-- HERO -->
  <section class="mb-2 p-4 border border-zinc-700 rounded">
    <div class="flex justify-between items-start">
      <div>
        <h1 class="text-base font-normal mb-1">Hey, I'm Dens ðŸ‘‹</h1>
        <p>AI & Backend Engineer</p>
      </div>
      <!-- CONTACT BUTTONS -->
      <div class="flex gap-2 text-xs">
        <a 
          href="mailto:dens.sumesh79@gmail.com" 
          class="px-2 py-1 bg-zinc-800 border border-zinc-600 rounded hover:border-zinc-500 transition-colors"
          title="Email"
        >
          Email
        </a>
        <a 
          href="https://github.com/densumesh" 
          class="px-2 py-1 bg-zinc-800 border border-zinc-600 rounded hover:border-zinc-500 transition-colors"
          title="GitHub"
          target="_blank"
          rel="noopener noreferrer"
        >
          GitHub â†—
        </a>
        <a 
          href="https://x.com/densumesh" 
          class="px-2 py-1 bg-zinc-800 border border-zinc-600 rounded hover:border-zinc-500 transition-colors"
          title="X (Twitter)"
          target="_blank"
          rel="noopener noreferrer"
        >
          X â†—
        </a>
      </div>
    </div>
  </section>

  <!-- ABOUT -->
  <section class="mb-2 p-4 border border-zinc-700 rounded">
    <h2 class="text-base font-normal mb-1">About</h2>
    <p class="text-sm mb-2">
      As the first engineering hire at
      <a href="https://www.trieve.ai" class="text-blue-400 hover:underline">Trieve (YC W23)</a>,
      I designed and scaled a distributed search platform that handles millions of queries in under&nbsp;100 ms.
      Before that, I contributed to deep-space satellite-communication research in ASUâ€™s
      <a href="https://interplanetary.asu.edu/" class="text-blue-400 hover:underline">Interplanetary Initiative Lab</a>.
    </p>

    <p class="text-sm mb-2">
      Iâ€™m currently a Jr. Software Development Engineer at Amazon, building large-scale backend services for vending brands and IP asset management while completing my B.S. in Computer Science at Arizona State University.
    </p>

    <p class="text-sm">
      When Iâ€™m not coding, youâ€™ll find me logging flight hours toward my private pilotâ€™s license or tinkering with my many unfinished electrical engineering projects.
    </p>
  </section>

  <!-- PROJECTS -->
  <section class="mb-2 p-4 border border-zinc-700 rounded">
    <h2 class="text-base font-normal mb-1">Featured Work</h2>
    <ul class="list-disc list-inside space-y-0 text-sm">
            <li>
        <strong>Trieve</strong> â€” Low latency search engine for AI applications.
        <a href="https://github.com/devflowinc/trieve" class="text-blue-400 hover:underline">Repoâ†—</a>
      </li>
      <li>
        <strong>Broccoli</strong> â€” Distributed Rust messageâ€‘queue with Redis
        backing.
        <a href="https://github.com/densumesh/broccoli" class="text-blue-400 hover:underline">Repoâ†—</a>
      </li>
      <li>
        <strong>Actix Req/Reply Cache</strong> â€” A simple request/reply cache
        for Actixâ€‘web backed by Redis.
        <a href="https://github.com/densumesh/actix-request-reply-cache" class="text-blue-400 hover:underline">Repoâ†—</a>
      </li>
      <li>
        <strong>Debate Evidence</strong> â€” Debate evidence search platform (30
        K+ users).
        <a href="https://github.com/densumesh/debatev-frontend" class="text-blue-400 hover:underline">Repoâ†—</a>
      </li>
    </ul>
  </section>

  <!-- BLOG -->
  <section class="mb-1 p-4 border border-zinc-700 rounded">
    <h2 class="text-base font-normal mb-2">Latest Blog Posts</h2>
    <ul class="space-y-2 text-sm">
      {latestPosts.map((post) => (
        <li>
          <a href={`/blog/${post.slug}`} class="text-blue-400 hover:underline">
            <strong>{post.data.title}</strong>
          </a>
          <span class="text-zinc-400 text-xs block">{post.data.description}</span>
        </li>
      ))}
    </ul>
    <div class="mt-3">
      <a href="/blog" class="text-blue-400 hover:underline text-sm">
        View all posts â†’
      </a>
    </div>
  </section>
</Layout>
